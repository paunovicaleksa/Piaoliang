<nav class="navbar navbar-expand-lg navbar-light bg-light">

  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarNav">
    <ul class="navbar-nav ml-auto">
      <li class="nav-item">
        <a class="nav-link" routerLink="/admin">Requests</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" routerLink="/admin/jobs">Jobs</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" routerLink="/admin/clients">Clients</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" routerLink="/admin/agencies">Agencies</a>
      </li>
    </ul>
  </div>
</nav>
<body>
  <div class="container">
    <div class="row">
      <div class="col">
        <div >
          <img [src]="getImage()" alt="Profile picture" width="100" height="100" class="img-thumbnail">
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col">
        <div class="table-responsive">
          <table class="table table-responsive-sm mt-4">
            <tbody>
              <tr>
                <th scope="row">Username:</th>
                <td>
                  {{agency.username}}
                </td>
              </tr>
              <tr>
                <th scope="row">Password:</th>
                <td>
                  <input type="text" class="form-control" [(ngModel)]="password" >
                </td>
              </tr>
              <tr>
                <th scope="row">Number:</th>
                <td>
                  <input type="text" class="form-control" [(ngModel)]="agencyNumber" >
                </td>
              </tr>
              <tr>
                <th scope="row">Agency name:</th>
                <td>
                  <input type="text" class="form-control" [(ngModel)]="agencyName" >

                </td>
              </tr>
              <tr>
                <th scope="row">Agency address:</th>
                <td>
                  <input type="text" class="form-control" [(ngModel)]="agencyAddress" >

                </td>
              </tr>
              <tr>
                <th scope="row">Email:</th>
                <td>
                  <input type="text" class="form-control" [(ngModel)]="email" >
                </td>
              </tr>
              <tr>
                <th scope="row">Status:</th>
                <td>
                  <input type="text" class="form-control" [(ngModel)]="status" >
                </td>
              </tr>
              <tr>
                <th scope="row">Vacancies:</th>
                <td>
                  <input type="text" class="form-control" [(ngModel)]="vacancies" >
                </td>
              </tr>
              <tr>
                <th scope="row">Remove profile picture:</th>
                <td>
                  <input type="checkbox" [(ngModel)]="removeImage" >
                </td>
              </tr>
            </tbody>
          </table>
          <button class="btn btn-primary" (click)="save()">Save</button>
          <button class="btn btn-primary" (click)="remove()">Delete Agency</button>
          <button class="btn btn-primary" (click)="addWorker()">Add worker</button>
          <div *ngIf="toAdd">
            Worker name:<input type="text" class="form-control" [(ngModel)]="workerName">
            Last name:<input type="text" class="form-control" [(ngModel)]="workerLastName">
            Email:<input type="text" class="form-control" [(ngModel)]="workerEmail">
            Phone:<input type="text" class="form-control" [(ngModel)]="workerPhone">
            Specialization:<input type="text" class="form-control" [(ngModel)]="workerSpecialization">
            <button class="btn btn-primary" (click)="add()">Add</button>
          </div>
        </div>
      </div>
    </div>
    <button class="btn btn-primary" (click)="showWorkers()">Show workers</button>

    <div class="row" *ngIf="show">
      <div class="col">
        <div class="table-responsive table-responsive-sm">
        <table class="table">
          <thead>
            <tr>
              <th>Worker Name</th>
              <th>Lastname</th>
              <th>Email</th>
              <th>Specialization</th>
              <th>Occupied</th>
              <th>Edit worker</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let worker of workers">
              <td *ngIf="!worker.checked">{{worker.name}}</td>
              <td *ngIf="worker.checked">
                <input type="text" class="form-control" [(ngModel)]="worker.name">
              </td>
              <td *ngIf="!worker.checked">{{worker.lastName}}</td>
              <td *ngIf="worker.checked">
                <input type="text" class="form-control" [(ngModel)]="worker.lastName">
              </td>
              <td *ngIf="!worker.checked">{{worker.email}}</td>
              <td *ngIf="worker.checked">
                <input type="text" class="form-control" [(ngModel)]="worker.email">
              </td>
              <td *ngIf="!worker.checked">{{worker.specialization}}</td>
              <td *ngIf="worker.checked">
                <input type="text" class="form-control" [(ngModel)]="worker.specialization">
              </td>
              <td *ngIf="!worker.checked">{{isOccupied(worker)}}</td>
              <td *ngIf="worker.checked">
                <input type="text" class="form-control" [(ngModel)]="worker.job">
              </td>
              <td *ngIf="!worker.checked">
                <button class="btn btn-primary" (click)="removeWorker(worker)">Remove</button>
                <button class="btn btn-primary" (click)="editWorker(worker)">Edit</button>
              </td>
              <td *ngIf="worker.checked">
                <button class="btn btn-primary" (click)="saveWorker(worker)">Save</button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <button class="btn btn-primary" (click)="showRequests()">Show requests</button>
  <div class="row" *ngIf="toShowRequest">
    <div class="col">
      <div class="table-responsive table-responsive-sm">
        <table class="table">
          <thead>
            <tr>
              <th>Request Type</th>
              <th>More Info</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let request of requests">
              <td>{{request.type}}</td>
              <td>
                <a class="forgot-password-link" routerLink="/admin/request">More Info</a>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  </div>
</body>